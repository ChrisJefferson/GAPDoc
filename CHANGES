                       CHANGES

0.99999 -> 1.0

- MakeGAPDocDoc: 
    - The text converter is called first now to produce labels for
      (sub-)sections which are independent of their number (see 
      'Text converter:' below). 
    - Now only the PDF manual is compiled from the LaTeX version. 
    - The .log file written by pdflatex is checked for errors, warnings
      and overfull boxes; these are displayed. 
      

- Bibliography data: ??? TO BE EXTENDED ???
    - new XML format with DTD, handling of .xml databases in converters,
    - Labels for references in Text and HTML converter are now similar to
      those produced by BibTeX.
    
- LaTeX converter: 
    - Convert long URLs such that LaTeX can hyphenate them after slashes
      (but without a maybe confusing hyphenation dash).
    - Documented SetGapDocLaTeXOptions, see ?GAPDoc2LaTeX. (Settings for
      hyperref, using colors or not, using UTF-8 with ucs package.)
    - The default LaTeX markup for <A>, <Arg> is now by slanted typewriter
      font.
    - Very long identifier names are now hyphenated in the (two-column) index. 
    - The pdf-manuals now know their paper size.
    - The pdf-manuals contain the robust labels generated by the text
      converter (see below). E.g., with xpdf one can display a labeled
      text directly: xpdf manual.pdf +L.<label>

- HTML converter: 
    - Introduced some more markup, such that the layout for the
      HTML files can be widely configured by  the manual.css file. 
    - Adjusted the sample gapdoc.css/manual.css style sheet file.
    - Added local links to (sub-)sections at top of each chapter.
    - The XHTML files are now in UTF-8 encoding. 
  
- Text converter: 
    - The display markup (ANSI escape sequences) is now substituted by some 
      place holder markup, which is substituted on the fly while browsing via 
      the help system (using a user configurable "style sheet", see
      ?SetGAPDocTextTheme).
    - As a side effect the converter produces labels for all chapters
      and (sub-)sections which are independent of their current number.
      These can be used in the HTML and PDF versions of the manual. Using
      these labels links to a (sub-)section remain correct as long as this 
      (sub-)section stays in the same chapter and the heading is not changed.
      This should make links between different manuals much more robust
      across different versions. 

- GAPDoc language
  - New element <Ignore Remark="...">. Can be used everywhere (e.g., for
    additional data like source code, or to comment non finished parts of
    the document).
  - A <ManSection> does now allow an optional <Heading> (I would not like
    if this would be used extensively, but can be sensible for ManSections
    which explain several commands. 
  - Made entities for LaTeX special characters ($tamp;, &percent; and so on)
    unnecessary (but kept them--with simplified definitions--for backward 
    compatibility).

- Print statements in some functions are now substituted by Info statements,
  such that they can be switched off, or can be set to debug level
  (new Info classes: InfoGAPDoc, InfoXMLParser, InfoBibTools).

- Removed some pre-GAP 4.4 syntax.

- The internal encoding for the parsed data is now UTF-8, this is also 
  recommended for input (all GAPDoc files are now in UTF-8 encoding).

- Introduced a unidirectional partial translation from unicode to LaTeX.

- Maybe also of independent interest:
  Introduced unicode characters and strings as GAP objects and de- and
  encoding of these from and to GAP strings in UTF-8 or ISO-8859-X encodings.
  See ?Unicode for documentation.

- ParseTreeXMLString:
    - can use the improved information from ComposedDocument
      to give better error messages in case of parsing errors. This uses the 
      new function OriginalPositionDocument.
    - can take a record with entity definitions as argument (and a bug was
      fixed that the entity dictionary for the parser was not reset before
      parsing).
    - these is a new command ParseTreeXMLFile which reads the document from
      a file.

- ComposedXMLString can now return information about the original file and 
  line number of any text in the composed  document. Also, that function is 
  substituted by 'ComposedDocument' because the preprocessing step can be used
  for completely different types of documents as well.

- Improved the documentation which markup is allowed in attribute values
  (recursively substituted entities). Improved the code to handle all
  special XML or LaTeX characters in attribute values, they must be escaped
  by the converter programs for HTML and LaTeX output.
  
- Changed further details for handling special characters; e.g. in LaTeX we
  now try to use always the nicer characters for \{}~^ from the \texttt
  font.

- Changed the status of the package from "deposited" to "accepted".

0.9999 -> 0.99999

- Now MathSciNet often gives two numbers as MRNUMBER in BibTeX references.
  For links in HTML text we use now only the first 9 characters (MRxxxxxxx).
  (Thanks to Alan Cain.)

- HTML conversion: 
  - changed XHTML DOCTYPE to official URI of definition.
  - added 'lang="en"' and 'xml:lang="en"' attributes to the <html ... > tag.
  - fixed a problem with forward references. (Thanks to Marco Costantini.)

- PDF conversion:
  - using author and title in document for PDF meta-information.
  - attribute values with underscores were not correctly escaped, this is
    fixed and an example is added to the documentation, see
    ?GAPDoc Example: MyOperation (for bla)
  - now handling XML meta-characters '<>&' in attribute values.
  
- The XML Parser now prints the position of the start tag when it finds 
  a non-fitting end tag.

- Some minor documentation improvements.

